{"ast":null,"code":"const API_URL = process.env.REACT_APP_API_URL;\nexport const api = {\n  get: async endpoint => {\n    try {\n      const response = await fetch(`${API_URL}${endpoint}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      return response.json();\n    } catch (error) {\n      console.error('API Get Error:', error);\n      throw error;\n    }\n  },\n  post: async (endpoint, data) => {\n    try {\n      const response = await fetch(`${API_URL}${endpoint}`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      return response.json();\n    } catch (error) {\n      console.error('API Post Error:', error);\n      throw error;\n    }\n  },\n  // Admin endpoints\n  admin: {\n    getUsers: () => api.get('/admin/users'),\n    getChats: () => api.get('/admin/chats'),\n    getPayments: () => api.get('/admin/payments'),\n    blockUser: userId => api.post(`/admin/users/${userId}/block`),\n    deleteChat: chatId => api.delete(`/admin/chats/${chatId}`)\n  },\n  delete: async endpoint => {\n    try {\n      const response = await fetch(`${API_URL}${endpoint}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      return response.json();\n    } catch (error) {\n      console.error('API Delete Error:', error);\n      throw error;\n    }\n  }\n};","map":{"version":3,"names":["API_URL","process","env","REACT_APP_API_URL","api","get","endpoint","response","fetch","headers","localStorage","getItem","ok","Error","status","json","error","console","post","data","method","body","JSON","stringify","admin","getUsers","getChats","getPayments","blockUser","userId","deleteChat","chatId","delete"],"sources":["/home/ubuntu/sexnow2/frontend/src/services/api.js"],"sourcesContent":["const API_URL = process.env.REACT_APP_API_URL;\n\nexport const api = {\n  get: async (endpoint) => {\n    try {\n      const response = await fetch(`${API_URL}${endpoint}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      \n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      \n      return response.json();\n    } catch (error) {\n      console.error('API Get Error:', error);\n      throw error;\n    }\n  },\n\n  post: async (endpoint, data) => {\n    try {\n      const response = await fetch(`${API_URL}${endpoint}`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      });\n      \n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      \n      return response.json();\n    } catch (error) {\n      console.error('API Post Error:', error);\n      throw error;\n    }\n  },\n// Admin endpoints\n  admin: {\n    getUsers: () => api.get('/admin/users'),\n    getChats: () => api.get('/admin/chats'),\n    getPayments: () => api.get('/admin/payments'),\n    blockUser: (userId) => api.post(`/admin/users/${userId}/block`),\n    deleteChat: (chatId) => api.delete(`/admin/chats/${chatId}`),\n  },\n\n  delete: async (endpoint) => {\n    try {\n      const response = await fetch(`${API_URL}${endpoint}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      return response.json();\n    } catch (error) {\n      console.error('API Delete Error:', error);\n      throw error;\n    }\n  }\n};\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB;AAE7C,OAAO,MAAMC,GAAG,GAAG;EACjBC,GAAG,EAAE,MAAOC,QAAQ,IAAK;IACvB,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGR,OAAO,GAAGM,QAAQ,EAAE,EAAE;QACpDG,OAAO,EAAE;UACP,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE;UAC1D,cAAc,EAAE;QAClB;MACF,CAAC,CAAC;MAEF,IAAI,CAACJ,QAAQ,CAACK,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,uBAAuBN,QAAQ,CAACO,MAAM,EAAE,CAAC;MAC3D;MAEA,OAAOP,QAAQ,CAACQ,IAAI,CAAC,CAAC;IACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;MACtC,MAAMA,KAAK;IACb;EACF,CAAC;EAEDE,IAAI,EAAE,MAAAA,CAAOZ,QAAQ,EAAEa,IAAI,KAAK;IAC9B,IAAI;MACF,MAAMZ,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGR,OAAO,GAAGM,QAAQ,EAAE,EAAE;QACpDc,MAAM,EAAE,MAAM;QACdX,OAAO,EAAE;UACP,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE;UAC1D,cAAc,EAAE;QAClB,CAAC;QACDU,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,IAAI;MAC3B,CAAC,CAAC;MAEF,IAAI,CAACZ,QAAQ,CAACK,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,uBAAuBN,QAAQ,CAACO,MAAM,EAAE,CAAC;MAC3D;MAEA,OAAOP,QAAQ,CAACQ,IAAI,CAAC,CAAC;IACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;MACvC,MAAMA,KAAK;IACb;EACF,CAAC;EACH;EACEQ,KAAK,EAAE;IACLC,QAAQ,EAAEA,CAAA,KAAMrB,GAAG,CAACC,GAAG,CAAC,cAAc,CAAC;IACvCqB,QAAQ,EAAEA,CAAA,KAAMtB,GAAG,CAACC,GAAG,CAAC,cAAc,CAAC;IACvCsB,WAAW,EAAEA,CAAA,KAAMvB,GAAG,CAACC,GAAG,CAAC,iBAAiB,CAAC;IAC7CuB,SAAS,EAAGC,MAAM,IAAKzB,GAAG,CAACc,IAAI,CAAC,gBAAgBW,MAAM,QAAQ,CAAC;IAC/DC,UAAU,EAAGC,MAAM,IAAK3B,GAAG,CAAC4B,MAAM,CAAC,gBAAgBD,MAAM,EAAE;EAC7D,CAAC;EAEDC,MAAM,EAAE,MAAO1B,QAAQ,IAAK;IAC1B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGR,OAAO,GAAGM,QAAQ,EAAE,EAAE;QACpDc,MAAM,EAAE,QAAQ;QAChBX,OAAO,EAAE;UACP,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE;UAC1D,cAAc,EAAE;QAClB;MACF,CAAC,CAAC;MACF,IAAI,CAACJ,QAAQ,CAACK,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,uBAAuBN,QAAQ,CAACO,MAAM,EAAE,CAAC;MAC3D;MACA,OAAOP,QAAQ,CAACQ,IAAI,CAAC,CAAC;IACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;MACzC,MAAMA,KAAK;IACb;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}